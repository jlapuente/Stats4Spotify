<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-2">
      <div class="filterContainer" *ngIf="selectOptions">
        <mat-form-field class="mat-filter" appearance="outline">
          <mat-label>{{ 'RECEIPT.PERIOD' | translate }}</mat-label>
          <mat-select (selectionChange)="updateSearch()" [(value)]="selectedOption">
            <mat-option></mat-option>
            <mat-option [value]="option" *ngFor="let option of selectOptions">{{ option.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="mat-filter" appearance="outline">
          <mat-label>{{ 'RECEIPT.TYPE' | translate }}</mat-label>
          <mat-select (selectionChange)="updateSearch()" [(value)]="selectedSearch">
            <mat-option></mat-option>
            <mat-option [value]="option" *ngFor="let option of searchList">{{ option.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-raised-button class="mat-filter" color="primary" (click)="downloadImage()">{{ 'RECEIPT.DOWNLOAD' |
          translate }}</button>
      </div>
    </div>
    <div class="col-sm-12 col-md-8">
      <div class="receiptContainerDiv">
        <div id="receipt">
          <div id="receiptContainer" class="receiptContainer">
            <h2 class="logo">
              Stats4Spotify
            </h2>
            <p class="period">
              <b>{{period}} DATA</b>
            </p>
            <p class="date">
              {{ 'RECEIPT.ORDER' | translate }}#0001 - {{date | date:'dd/MM/yy'}}
            </p>
            <p class="date" *ngIf="selectedSearch">
              {{ 'RECEIPT.MOST_LISTENED' | translate:'{param:"'+ selectedSearch.viewValue +'", otherparam:"'+username+'"}'}}
            </p>
            <table class="tracks">
              <thead>
                <tr>
                  <td class="begin">
                    {{ 'RECEIPT.TOP' | translate }}
                  </td>
                  <td>
                    <span *ngIf="isArtist">
                      {{ 'RECEIPT.NAME' | translate }}
                    </span>
                    <span *ngIf="!isArtist">
                      {{ 'RECEIPT.SONG' | translate }}
                    </span>
                  </td>
                  <td class="length">
                    <span *ngIf="isArtist">

                    </span>
                    <span *ngIf="!isArtist">
                      {{ 'RECEIPT.TIME' | translate }}
                    </span>
                  </td>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of items; let i = index">
                  <td class="begin">
                    {{i+1}}
                  </td>
                  <td class="name">
                    <span *ngIf="item.type == 'artist'">
                      {{item.name | characterSanitizer}}
                    </span>
                    <span *ngIf="item.type != 'artist'">
                      {{item.name | characterSanitizer}}
                      <span *ngFor="let artist of item.artists">
                        - {{artist.name | characterSanitizer}}
                      </span>
                    </span>
                  </td>
                  <span *ngIf="item.type != 'artist'">
                    <td class="length">
                      {{item.duration_ms | date:'mm:ss'}}
                    </td>
                  </span>
                </tr>

                <tr class="total-counts">
                  <td class="begin" colspan="2" >
                    {{ 'RECEIPT.ITEM_COUNT' | translate }}
                  </td>
                  <td class="length">
                    10
                  </td>
                </tr>
                <tr class="total-counts-end">
                  <td class="begin" colspan="2" *ngIf="!isArtist">
                    {{ 'RECEIPT.TOTAL' | translate }}:
                  </td>
                  <td class="length" *ngIf="!isArtist">
                    {{totalTime | date:'mm:ss'}}
                  </td>
                </tr>
              </tbody>
            </table>
            <p class="date">
              {{ 'RECEIPT.MEMBERSHIP' | translate }}: {{membership}}
            </p>
            <p class="date">
              {{ 'RECEIPT.CARDHOLDER' | translate }}: {{username}}
            </p>
            <div class="thanks">
              <p>
                {{ 'RECEIPT.THANKS' | translate }}
                <span class="website">
                  {{url}}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-0 col-md-2">
    </div>
  </div>
</div>